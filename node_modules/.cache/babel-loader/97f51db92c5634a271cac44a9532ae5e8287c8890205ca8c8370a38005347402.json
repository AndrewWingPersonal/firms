{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst useFetch = url => {\n  _s();\n  const cache = useRef({});\n  const [status, setStatus] = useState('idle');\n  const [data, setData] = useState([]);\n  useEffect(() => {\n    if (!url) return;\n    const fetchData = async () => {\n      setStatus('fetching');\n      if (cache.current[url]) {\n        const data = cache.current[url];\n        setData(data);\n        setStatus('fetched');\n      } else {\n        const response = await fetch(url);\n        const data = await response.json();\n        cache.current[url] = data; // set response in cache;\n        setData(data);\n        setStatus('fetched');\n      }\n    };\n    fetchData();\n  }, [url]);\n  return {\n    status,\n    data\n  };\n};\n_s(useFetch, \"6m0BFjnElTzNGoLC+sMYrhL/Mxc=\");\nexport default useFetch;","map":{"version":3,"names":["useState","useEffect","useFetch","url","_s","cache","useRef","status","setStatus","data","setData","fetchData","current","response","fetch","json"],"sources":["/home/andrew/react_learning/custom_hook/preqin/src/hooks/useFetch.js"],"sourcesContent":["\nimport {useState, useEffect} from 'react';\n\nconst useFetch = (url) => {\n    const cache = useRef({});\n    const [status, setStatus] = useState('idle');\n    const [data, setData] = useState([]);\n\n    useEffect(() => {\n        if (!url) return;\n        const fetchData = async () => {\n            setStatus('fetching');\n            if (cache.current[url]) {\n                const data = cache.current[url];\n                setData(data);\n                setStatus('fetched');\n            } else {\n                const response = await fetch(url);\n                const data = await response.json();\n                cache.current[url] = data; // set response in cache;\n                setData(data);\n                setStatus('fetched');\n            }\n        };\n\n        fetchData();\n    }, [url]);\n\n    return { status, data };\n};\n\nexport default useFetch;"],"mappings":";AACA,SAAQA,QAAQ,EAAEC,SAAS,QAAO,OAAO;AAEzC,MAAMC,QAAQ,GAAIC,GAAG,IAAK;EAAAC,EAAA;EACtB,MAAMC,KAAK,GAAGC,MAAM,CAAC,CAAC,CAAC,CAAC;EACxB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAC,MAAM,CAAC;EAC5C,MAAM,CAACS,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAEpCC,SAAS,CAAC,MAAM;IACZ,IAAI,CAACE,GAAG,EAAE;IACV,MAAMQ,SAAS,GAAG,MAAAA,CAAA,KAAY;MAC1BH,SAAS,CAAC,UAAU,CAAC;MACrB,IAAIH,KAAK,CAACO,OAAO,CAACT,GAAG,CAAC,EAAE;QACpB,MAAMM,IAAI,GAAGJ,KAAK,CAACO,OAAO,CAACT,GAAG,CAAC;QAC/BO,OAAO,CAACD,IAAI,CAAC;QACbD,SAAS,CAAC,SAAS,CAAC;MACxB,CAAC,MAAM;QACH,MAAMK,QAAQ,GAAG,MAAMC,KAAK,CAACX,GAAG,CAAC;QACjC,MAAMM,IAAI,GAAG,MAAMI,QAAQ,CAACE,IAAI,CAAC,CAAC;QAClCV,KAAK,CAACO,OAAO,CAACT,GAAG,CAAC,GAAGM,IAAI,CAAC,CAAC;QAC3BC,OAAO,CAACD,IAAI,CAAC;QACbD,SAAS,CAAC,SAAS,CAAC;MACxB;IACJ,CAAC;IAEDG,SAAS,CAAC,CAAC;EACf,CAAC,EAAE,CAACR,GAAG,CAAC,CAAC;EAET,OAAO;IAAEI,MAAM;IAAEE;EAAK,CAAC;AAC3B,CAAC;AAACL,EAAA,CA1BIF,QAAQ;AA4Bd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}